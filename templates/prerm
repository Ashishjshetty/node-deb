#!/bin/bash
# This file was autogenerated by node-deb {{ node_deb_version }}
set -e

init_type='{{ node_deb_init }}'

die() {
  echo "$@" >&2
  exit 1
}

stop_service() {
  local service_name="$1"

  if hash service 2> /dev/null; then
    service "$service_name" stop || echo "$service_name wasn't even running!"
  elif hash stop 2> /dev/null; then
    stop "$service_name" || echo "$service_name wasn't even running!"
  elif hash systemctl 2> /dev/null; then
    systemctl disable "$service_name.service" || echo "$service_name wasn't even running!"
  else
    die "Your system does not appear to use upstart or systemd, so $service_name could not be stopped"
  fi
}

if [[ "$init_type" == 'auto' ]]; then
  stop_service '{{ node_deb_package_name }}'
fi
